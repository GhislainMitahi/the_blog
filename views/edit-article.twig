{% extends "layout.twig" %}

{% block body %}

    <h1 class="text-center">Edit your article !</h1>
    <form action="" method="POST" enctype="multipart/form-data"> 
        <div class="form-group">
            <label for="">Title :</label>
            <input type="text" name="title" value="{{article.title}}" class="form-control">
        </div>
        <div class="form-group">
            <label for="">Category :</label>
            <select name="category" id="" class="form-control">
                <option value="">Choice your article category !</option>
                {% if categories %}
                   {% for category in categories %}
                     {% if category.title is same as(article.category) %}
                            <option value="{{ category.title }}" selected> {{ category.title }} </option>
                         {% else %}
                           <option value="{{ category.title }}">{{ category.title }}</option>
                         {% endif %}

                     {% endfor %}

                {% endif %}
            </select>
        </div>
        <div class="form-group">
            <label for="">Content :</label>
            <textarea name="content" id="content" class="form-control" cols="30" rows="10"> {{article.content | raw }}</textarea>
        </div>
        <div class="form-group">
            <label for="image">Image :</label>
            <input type="file" value="{{article.image}}" name="image" id="image" class="form-control">
        </div>
        <button class="btn btn-success mt-3">Edit Article</button>
    </form>
   <script src="https://cdn.ckeditor.com/ckeditor5/34.1.0/classic/ckeditor.js"></script>
    <script>
        ClassicEditor
            .create( document.querySelector( '#content' ) )
            .catch( error => {
                console.error( error );
            } );
    </script>
{% endblock %}